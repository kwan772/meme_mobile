{"code":"(this[\"webpackJsonpmy-app\"]=this[\"webpackJsonpmy-app\"]||[]).push([[0],{10:function(e,t,c){},13:function(e,t,c){\"use strict\";c.r(t);var n=c(0),r=c.n(n),o=c(4),i=c.n(o),l=(c(9),c(2)),a=(c(10),c.p+\"static/media/memeBGM.4ff86e69.mp3\"),s=(c(11),c.p,c(1));var u=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],r=t[1],o=Object(n.useState)(0),i=Object(l.a)(o,2),u=i[0],h=i[1],p=Object(n.useState)(u+1),f=Object(l.a)(p,2),g=f[0],m=f[1],j=Object(n.useState)(15),d=Object(l.a)(j,2),b=d[0],O=d[1],x=Object(n.useState)(!0),k=Object(l.a)(x,2),v=k[0],S=k[1],T=Object(n.useState)(),I=Object(l.a)(T,2),y=I[0],B=I[1],C=6048e5,E=6e5,N=Object(n.useState)(!1),F=Object(l.a)(N,2),w=F[0],G=F[1],H=Object(n.useState)(new Audio(a)),M=Object(l.a)(H,2),U=M[0];function A(e){for(var t,c=e.length;0!=c;){t=Math.floor(Math.random()*c),c--;var n=[e[t],e[c]];e[c]=n[0],e[t]=n[1]}return e}M[1],Object(n.useEffect)((function(){D()}),[]),Object(n.useEffect)((function(){setTimeout((function(){if(0!==b)O(b-1);else{if(v)if(S(!1),y>g+1)for(h(g+1);!c[u].media&&\"\"===c[u].media;)h(g+1);else r(A(c)),h(0);else if(S(!0),y>u+1)for(m(u+1);!c[g].media&&\"\"===c[g].media;)h(g+1);else r(A(c)),m(0);O(15)}}),1e3)}),[b]),Object(n.useEffect)((function(){console.log(c)}),[c]);var D=function(){fetch(\"/members\").then((function(e){return e.json()})).then((function(e){B(Object.keys(e.title).length);for(var t=[],c=0;c<Object.keys(e.title).length;c++)t.push({media:e.media[c],score:e.score[c],title:e.title[c]});r(A(t)),t.length>0&&fetch(\"/checkImage?src=\"+t[u].media).then((function(e){return e.json()})).then((function(e){console.log(e),404===e&&(h(u+1),m(u+2),console.log(\"skipped\"))})),t.length>0&&fetch(\"/checkImage?src=\"+t[g].media).then((function(e){return e.json()})).then((function(e){console.log(e),404===e&&(m(g+1),console.log(\"skipped\"))}))}))},J=function(){fetch(\"/updateMeme\")};return Object(n.useEffect)((function(){var e,t=(new Date).getTime(),c=(new Date).setHours(22,9,0);e=t<c?c-t:c+C-t,console.log(e),setTimeout((function(){J(),setTimeout((function(){D()}),E),setInterval((function(){J(),setTimeout((function(){D()}),E)}),C)}),e)}),[]),Object(n.useEffect)((function(){c.length>0&&fetch(\"/checkImage?src=\"+c[u].media).then((function(e){return e.json()})).then((function(e){console.log(e),404===e&&(y>u+2?(h(u+1),m(u+2),console.log(\"skipped\")):(r(A(c)),h(0)))}))}),[u]),Object(n.useEffect)((function(){c.length>0&&fetch(\"/checkImage?src=\"+c[g].media).then((function(e){return e.json()})).then((function(e){console.log(e),404===e&&(y>g+2?(m(g+1),h(g+2),console.log(\"skipped\")):(r(A(c)),m(0)))}))}),[g]),Object(s.jsxs)(\"div\",{className:\"App\",children:[Object(s.jsxs)(\"header\",{className:\"App-header\",children:[c[u+1]?Object(s.jsxs)(\"div\",{style:{height:\"950px\"},children:[Object(s.jsxs)(\"div\",{style:v?{height:\"950px\"}:{height:\"950px\",display:\"none\"},children:[Object(s.jsx)(\"h3\",{children:c[u].title.replace(\"fuck\",\"****\").replace(\"shit\",\"****\").replace(\"Bitch\",\"*****\").replace(\"Fuck\",\"****\").replace(\"Shit\",\"****\").replace(\"Bitch\",\"*****\").replace(\"FUCK\",\"****\").replace(\"SHIT\",\"****\").replace(\"BITCH\",\"*****\").replace(\"cunt\",\"****\").replace(\"CUNT\",\"****\").replace(\"Cunt\",\"****\").replace(\"nigger\",\"*****\").replace(\"NIGGER\",\"*****\").replace(\"Nigger\",\"******\")}),Object(s.jsx)(\"div\",{className:\"memeBox\",children:Object(s.jsx)(\"img\",{alt:\"current meme\",src:c[u].media,onError:function(e){y>u+1?(u>g&&h(u+1),console.log(c[u].media),console.log(\"error img\"),e.target.onerror=null,e.target.src=c[u].media):(r(A(c)),h(0),console.log(\"error img\"),e.target.onerror=null,e.target.src=c[u].media)}})})]}),Object(s.jsxs)(\"div\",{style:v?{height:\"950px\",display:\"none\"}:{height:\"950px\"},children:[Object(s.jsx)(\"h3\",{children:c[g].title.replace(\"fuck\",\"****\").replace(\"shit\",\"****\").replace(\"Bitch\",\"*****\").replace(\"Fuck\",\"****\").replace(\"Shit\",\"****\").replace(\"Bitch\",\"*****\").replace(\"FUCK\",\"****\").replace(\"SHIT\",\"****\").replace(\"BITCH\",\"*****\").replace(\"cunt\",\"****\").replace(\"CUNT\",\"****\").replace(\"Cunt\",\"****\").replace(\"nigger\",\"*****\").replace(\"NIGGER\",\"*****\").replace(\"Nigger\",\"******\")}),Object(s.jsx)(\"div\",{className:\"memeBox\",children:Object(s.jsx)(\"img\",{alt:\"next meme\",src:c[g].media,onError:function(e){y>g+1?(m(g+1),console.log(c[g].media),console.log(\"error img\"),e.target.onerror=null,e.target.src=c[g].media):(r(A(c)),m(0),console.log(\"error img\"),e.target.onerror=null,e.target.src=c[g].media)}})})]})]}):null,Object(s.jsx)(\"span\",{className:\"timer\",children:b})]}),Object(s.jsx)(\"button\",{onClick:function(){w?(G(!1),U.pause()):(G(!0),U.play(),U.loop=!0)},style:{marginTop:1e3},children:\"Boop!\"})]})},h=function(e){e&&e instanceof Function&&c.e(4).then(c.bind(null,16)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;c(e),n(e),r(e),o(e),i(e)}))};i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(u,{})}),document.getElementById(\"root\")),h()},9:function(e,t,c){}},[[13,1,2]]]);","name":"static/js/main.68e1e042.chunk.js","map":{"version":3,"sources":["static/js/main.68e1e042.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","memeBGM","p","jsx_runtime","src_App","_useState","Object","_useState2","meme","setMeme","_useState3","_useState4","currentMeme","setCurrentMeme","_useState5","_useState6","nextMeme","setNextMeme","_useState7","_useState8","seconds","setSeconds","_useState9","_useState10","displayCurrent","setDisplayCurrent","_useState11","_useState12","length","setLength","WEEK_IN_MS","TEN_MIN_IN_MS","_useState13","_useState14","onMusic","setOnMusic","_useState15","Audio","_useState16","bgm","shuffle","array","randomIndex","currentIndex","Math","floor","random","_ref","getData","setTimeout","media","console","log","fetch","then","res","json","data","keys","title","shuffleMeme","i","score","isFound","updateData","timeLeft","currentTime","Date","getTime","execTime","setHours","setInterval","className","children","style","height","display","replace","alt","src","onError","e","target","onerror","onClick","pause","play","loop","marginTop","src_reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","a","render","StrictMode","document","getElementById"],"mappings":"CAACA,KAAK,sBAAwBA,KAAK,uBAAyB,IAAIC,KAAK,CAAC,CAAC,GAAG,CAEpE,GACA,SAAUC,EAAQC,EAASC,KAM3B,GACA,SAAUF,EAAQG,EAAqBD,GAE7C,aAEAA,EAAoBE,EAAED,GAGtB,IAAIE,EAAQH,EAAoB,GAC5BI,EAA6BJ,EAAoBK,EAAEF,GAGnDG,EAAYN,EAAoB,GAChCO,EAAiCP,EAAoBK,EAAEC,GAMvDE,GAHMR,EAAoB,GAGVA,EAAoB,IAMPS,GAHvBT,EAAoB,IAGcA,EAAoBU,EAAI,qCAOhEC,GALgBX,EAAoB,IAGCA,EAAoBU,EAE3CV,EAAoB,IAcqzG,IAAIY,EAX/1G,WAAmB,IAAIC,EAAUC,OAAOX,EAAgB,SAAvBW,CAA0B,IAAIC,EAAWD,OAAON,EAA+B,EAAtCM,CAAyCD,EAAU,GAAGG,EAAKD,EAAW,GAAGE,EAAQF,EAAW,GAAOG,EAAWJ,OAAOX,EAAgB,SAAvBW,CAA0B,GAAGK,EAAWL,OAAON,EAA+B,EAAtCM,CAAyCI,EAAW,GAAGE,EAAYD,EAAW,GAAGE,EAAeF,EAAW,GAAOG,EAAWR,OAAOX,EAAgB,SAAvBW,CAA0BM,EAAY,GAAGG,EAAWT,OAAON,EAA+B,EAAtCM,CAAyCQ,EAAW,GAAGE,EAASD,EAAW,GAAGE,EAAYF,EAAW,GAAOG,EAAWZ,OAAOX,EAAgB,SAAvBW,CAA0B,IAAIa,EAAWb,OAAON,EAA+B,EAAtCM,CAAyCY,EAAW,GAAGE,EAAQD,EAAW,GAAGE,EAAWF,EAAW,GAAOG,EAAWhB,OAAOX,EAAgB,SAAvBW,EAA0B,GAAMiB,EAAYjB,OAAON,EAA+B,EAAtCM,CAAyCgB,EAAW,GAAGE,EAAeD,EAAY,GAAGE,EAAkBF,EAAY,GAAOG,EAAYpB,OAAOX,EAAgB,SAAvBW,GAA4BqB,EAAYrB,OAAON,EAA+B,EAAtCM,CAAyCoB,EAAY,GAAGE,EAAOD,EAAY,GAAGE,EAAUF,EAAY,GAAoBG,EAAW,OAAcC,EAAc,IAAWC,EAAY1B,OAAOX,EAAgB,SAAvBW,EAA0B,GAAO2B,EAAY3B,OAAON,EAA+B,EAAtCM,CAAyC0B,EAAY,GAAGE,EAAQD,EAAY,GAAGE,EAAWF,EAAY,GAAOG,EAAY9B,OAAOX,EAAgB,SAAvBW,CAA0B,IAAI+B,MAAMpC,IAAUqC,EAAYhC,OAAON,EAA+B,EAAtCM,CAAyC8B,EAAY,GAAGG,EAAID,EAAY,GAAk1B,SAASE,EAAQC,GAAqD,IAA9C,IAAkCC,EAA9BC,EAAaF,EAAMb,OAA2C,GAAde,GAAgB,CAACD,EAAYE,KAAKC,MAAMD,KAAKE,SAASH,GAAcA,IAAe,IAAII,EAAK,CAACN,EAAMC,GAAaD,EAAME,IAAeF,EAAME,GAAcI,EAAK,GAAGN,EAAMC,GAAaK,EAAK,GAAI,OAAON,EAAxlCH,EAAY,GAAyHhC,OAAOX,EAAiB,UAAxBW,EAA2B,WAAW0C,MAAY,IAAI1C,OAAOX,EAAiB,UAAxBW,EAA2B,WAAW2C,YAAW,WAAW,GAAa,IAAV7B,EAAaC,EAAWD,EAAQ,OAAQ,CAAC,GAAGI,EAAyC,GAAzBC,GAAkB,GAAUG,EAAOZ,EAAS,EAA8B,IAA3BH,EAAeG,EAAS,IAAUR,EAAKI,GAAasC,OAAiC,KAA1B1C,EAAKI,GAAasC,OAAYrC,EAAeG,EAAS,QAAUP,EAAQ+B,EAAQhC,IAAOK,EAAe,QAAkC,GAAxBY,GAAkB,GAASG,EAAOhB,EAAY,EAA8B,IAA3BK,EAAYL,EAAY,IAAUJ,EAAKQ,GAAUkC,OAA8B,KAAvB1C,EAAKQ,GAAUkC,OAAYrC,EAAeG,EAAS,QAAUP,EAAQ+B,EAAQhC,IAAOS,EAAY,GAAKI,EAArlC,OAA0mC,OAAQ,CAACD,IAAUd,OAAOX,EAAiB,UAAxBW,EAA2B,WAAW6C,QAAQC,IAAI5C,KAAQ,CAACA,IAA8R,IAAIwC,EAAQ,WAAmBK,MAAM,YAAYC,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASG,GAAM5B,EAAUvB,OAAOoD,KAAKD,EAAKE,OAAO/B,QAA2B,IAAnB,IAAIgC,EAAY,GAAWC,EAAE,EAAEA,EAAEvD,OAAOoD,KAAKD,EAAKE,OAAO/B,OAAOiC,IAK9pFD,EAAYvE,KAAK,CAAC6D,MAAMO,EAAKP,MAAWW,GAAIC,MAAML,EAAKK,MAAWD,GAAIF,MAAMF,EAAKE,MAAWE,KAAOpD,EAAQ+B,EAAQoB,IAAiBA,EAAYhC,OAAO,GAAGyB,MAAM,mBAAmBO,EAAYhD,GAAasC,OAAOI,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASS,GAASZ,QAAQC,IAAIW,GAAsB,MAAVA,IAAelD,EAAeD,EAAY,GAAGK,EAAYL,EAAY,GAAGuC,QAAQC,IAAI,eAAmBQ,EAAYhC,OAAO,GAAGyB,MAAM,mBAAmBO,EAAY5C,GAAUkC,OAAOI,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASS,GAASZ,QAAQC,IAAIW,GAAsB,MAAVA,IAAe9C,EAAYD,EAAS,GAAGmC,QAAQC,IAAI,mBAAyBY,EAAW,WAAsBX,MAAM,gBAM2E,OAN1D/C,OAAOX,EAAiB,UAAxBW,EAA2B,WAAW,IAE1tB2D,EAF8tBC,GAAY,IAAIC,MAAOC,UACrvBC,GAAS,IAAIF,MAAOG,SAAS,GAAG,EAAE,GAEtCL,EADgBC,EAAYG,EACnBA,EAASH,EACTG,EAASvC,EAAWoC,EAAaf,QAAQC,IAAIa,GAAUhB,YAAW,WAAWe,IAAaf,YAAW,WAAWD,MAAYjB,GAAewC,aAAY,WAAWP,IAAaf,YAAW,WAAWD,MAAYjB,KAAiBD,KACzOmC,KACA,IAAI3D,OAAOX,EAAiB,UAAxBW,EAA2B,WAAcE,EAAKoB,OAAO,GAAGyB,MAAM,mBAAmB7C,EAAKI,GAAasC,OAAOI,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASS,GAASZ,QAAQC,IAAIW,GAAsB,MAAVA,IAAkBnC,EAAOhB,EAAY,GAAGC,EAAeD,EAAY,GAAGK,EAAYL,EAAY,GAAGuC,QAAQC,IAAI,aAAiB3C,EAAQ+B,EAAQhC,IAAOK,EAAe,UAAW,CAACD,IAAcN,OAAOX,EAAiB,UAAxBW,EAA2B,WAAcE,EAAKoB,OAAO,GAAGyB,MAAM,mBAAmB7C,EAAKQ,GAAUkC,OAAOI,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASS,GAASZ,QAAQC,IAAIW,GAAsB,MAAVA,IAAkBnC,EAAOZ,EAAS,GAAGC,EAAYD,EAAS,GAAGH,EAAeG,EAAS,GAAGmC,QAAQC,IAAI,aAAiB3C,EAAQ+B,EAAQhC,IAAOS,EAAY,UAAW,CAACD,IAA8BV,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACkE,UAAU,MAAMC,SAAS,CAAcnE,OAAOH,EAAkB,KAAzBG,CAA4B,SAAS,CAACkE,UAAU,aAAaC,SAAS,CAACjE,EAAKI,EAAY,GAAgBN,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACoE,MAAM,CAACC,OAAO,SAASF,SAAS,CAAcnE,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACoE,MAAMlD,EAAe,CAACmD,OAAO,SAAS,CAACA,OAAO,QAAQC,QAAQ,QAAQH,SAAS,CAAcnE,OAAOH,EAAiB,IAAxBG,CAA2B,KAAK,CAACmE,SAASjE,EAAKI,GAAa+C,MAAMkB,QAAQ,OAAO,QAAQA,QAAQ,OAAO,QAAQA,QAAQ,QAAQ,SAASA,QAAQ,OAAO,QAAQA,QAAQ,OAAO,QAAQA,QAAQ,QAAQ,SAASA,QAAQ,OAAO,QAAQA,QAAQ,OAAO,QAAQA,QAAQ,QAAQ,SAASA,QAAQ,OAAO,QAAQA,QAAQ,OAAO,QAAQA,QAAQ,OAAO,QAAQA,QAAQ,SAAS,SAASA,QAAQ,SAAS,SAASA,QAAQ,SAAS,YAAyBvE,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACkE,UAAU,UAAUC,SAAsBnE,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACwE,IAAI,eAAeC,IAAIvE,EAAKI,GAAasC,MAAM8B,QAAQ,SAAiBC,GAAMrD,EAAOhB,EAAY,GAAMA,EAAYI,GAAUH,EAAeD,EAAY,GAAIuC,QAAQC,IAAI5C,EAAKI,GAAasC,OAAOC,QAAQC,IAAI,aAAa6B,EAAEC,OAAOC,QAAQ,KAAKF,EAAEC,OAAOH,IAAIvE,EAAKI,GAAasC,QAAYzC,EAAQ+B,EAAQhC,IAAOK,EAAe,GAAGsC,QAAQC,IAAI,aAAa6B,EAAEC,OAAOC,QAAQ,KAAKF,EAAEC,OAAOH,IAAIvE,EAAKI,GAAasC,eAA6B5C,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACoE,MAAMlD,EAAe,CAACmD,OAAO,QAAQC,QAAQ,QAAQ,CAACD,OAAO,SAASF,SAAS,CAAcnE,OAAOH,EAAiB,IAAxBG,CAA2B,KAAK,CAACmE,SAASjE,EAAKQ,GAAU2C,MAAMkB,QAAQ,OAAO,QAAQA,QAAQ,OAAO,QAAQA,QAAQ,QAAQ,SAASA,QAAQ,OAAO,QAAQA,QAAQ,OAAO,QAAQA,QAAQ,QAAQ,SAASA,QAAQ,OAAO,QAAQA,QAAQ,OAAO,QAAQA,QAAQ,QAAQ,SAASA,QAAQ,OAAO,QAAQA,QAAQ,OAAO,QAAQA,QAAQ,OAAO,QAAQA,QAAQ,SAAS,SAASA,QAAQ,SAAS,SAASA,QAAQ,SAAS,YAAyBvE,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACkE,UAAU,UAAUC,SAAsBnE,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACwE,IAAI,YAAYC,IAAIvE,EAAKQ,GAAUkC,MAAM8B,QAAQ,SAAiBC,GAAMrD,EAAOZ,EAAS,GAAGC,EAAYD,EAAS,GAAGmC,QAAQC,IAAI5C,EAAKQ,GAAUkC,OAAOC,QAAQC,IAAI,aAAa6B,EAAEC,OAAOC,QAAQ,KAAKF,EAAEC,OAAOH,IAAIvE,EAAKQ,GAAUkC,QAAYzC,EAAQ+B,EAAQhC,IAAOS,EAAY,GAAGkC,QAAQC,IAAI,aAAa6B,EAAEC,OAAOC,QAAQ,KAAKF,EAAEC,OAAOH,IAAIvE,EAAKQ,GAAUkC,kBAAmB,KAAkB5C,OAAOH,EAAiB,IAAxBG,CAA2B,OAAO,CAACkE,UAAU,QAAQC,SAASrD,OAA0Bd,OAAOH,EAAiB,IAAxBG,CAA2B,SAAS,CAAC8E,QAXn4D,WAAmBlD,GAASC,GAAW,GAAOI,EAAI8C,UAAclD,GAAW,GAAMI,EAAI+C,OAAO/C,EAAIgD,MAAK,IAW2yDb,MAAM,CAACc,UAAU,KAAMf,SAAS,cAE/2FgB,EAA7a,SAAyBC,GAAgBA,GAAaA,aAAuBC,UAAUnG,EAAoByF,EAAiB,GAAG3B,KAAK9D,EAAoBoG,KAAK,KAAM,KAAKtC,MAAK,SAASP,GAAM,IAAI8C,EAAO9C,EAAK8C,OAAOC,EAAO/C,EAAK+C,OAAOC,EAAOhD,EAAKgD,OAAOC,EAAOjD,EAAKiD,OAAOC,EAAQlD,EAAKkD,QAAQJ,EAAOH,GAAaI,EAAOJ,GAAaK,EAAOL,GAAaM,EAAON,GAAaO,EAAQP,OAE7Y3F,EAAkBmG,EAAEC,OAAoB7F,OAAOH,EAAiB,IAAxBG,CAA2BV,EAAcsG,EAAEE,WAAW,CAAC3B,SAAsBnE,OAAOH,EAAiB,IAAxBG,CAA2BF,EAAQ,MAAMiG,SAASC,eAAe,SAGtLb,KAIM,EACA,SAAUnG,EAAQC,EAASC,MAM/B,CAAC,CAAC,GAAG,EAAE"},"input":"(this[\"webpackJsonpmy-app\"] = this[\"webpackJsonpmy-app\"] || []).push([[0],{\n\n/***/ 10:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 13:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(4);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(10);\n\n// CONCATENATED MODULE: ./src/assets/memeBGM.mp3\n/* harmony default export */ var memeBGM = (__webpack_require__.p + \"static/media/memeBGM.4ff86e69.mp3\");\n// EXTERNAL MODULE: ./node_modules/use-sound/dist/use-sound.esm.js\nvar use_sound_esm = __webpack_require__(11);\n\n// CONCATENATED MODULE: ./src/assets/bell.mp3\n/* harmony default export */ var bell = (__webpack_require__.p + \"static/media/bell.05d85813.mp3\");\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),meme=_useState2[0],setMeme=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),currentMeme=_useState4[0],setCurrentMeme=_useState4[1];var _useState5=Object(react[\"useState\"])(currentMeme+1),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),nextMeme=_useState6[0],setNextMeme=_useState6[1];var _useState7=Object(react[\"useState\"])(15),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),seconds=_useState8[0],setSeconds=_useState8[1];var _useState9=Object(react[\"useState\"])(true),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),displayCurrent=_useState10[0],setDisplayCurrent=_useState10[1];var _useState11=Object(react[\"useState\"])(),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),length=_useState12[0],setLength=_useState12[1];var CLOCK=15;var WEEK_IN_MS=604800000;var TEN_MIN_IN_MS=600000;var _useState13=Object(react[\"useState\"])(false),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),onMusic=_useState14[0],setOnMusic=_useState14[1];var _useState15=Object(react[\"useState\"])(new Audio(memeBGM)),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),bgm=_useState16[0],setBgm=_useState16[1];var play=function play(){if(onMusic){setOnMusic(false);bgm.pause();}else{setOnMusic(true);bgm.play();bgm.loop=true;}};Object(react[\"useEffect\"])(function(){getData();},[]);Object(react[\"useEffect\"])(function(){setTimeout(function(){if(seconds!==0){setSeconds(seconds-1);}else{if(displayCurrent){setDisplayCurrent(false);if(length>nextMeme+1){setCurrentMeme(nextMeme+1);while(!meme[currentMeme].media&&meme[currentMeme].media===''){setCurrentMeme(nextMeme+1);}}else{setMeme(shuffle(meme));setCurrentMeme(0);}}else{setDisplayCurrent(true);if(length>currentMeme+1){setNextMeme(currentMeme+1);while(!meme[nextMeme].media&&meme[nextMeme].media===''){setCurrentMeme(nextMeme+1);}}else{setMeme(shuffle(meme));setNextMeme(0);}}setSeconds(CLOCK);}},1000);},[seconds]);Object(react[\"useEffect\"])(function(){console.log(meme);},[meme]);function shuffle(array){var currentIndex=array.length;var randomIndex;while(currentIndex!=0){randomIndex=Math.floor(Math.random()*currentIndex);currentIndex--;var _ref=[array[randomIndex],array[currentIndex]];array[currentIndex]=_ref[0];array[randomIndex]=_ref[1];}return array;}var getData=function getData(){fetch(\"/members\").then(function(res){return res.json();}).then(function(data){setLength(Object.keys(data.title).length);var shuffleMeme=[];for(var i=0;i<Object.keys(data.title).length;i++){//   setMeme(preState => [\n//     ...preState, {media:data.media['?',i],\n//   score:data.score['?',i],\n// title:data.title['?',i]}\n//   ])\nshuffleMeme.push({media:data.media[('?',i)],score:data.score[('?',i)],title:data.title[('?',i)]});}setMeme(shuffle(shuffleMeme));if(shuffleMeme.length>0){fetch(\"/checkImage?src=\"+shuffleMeme[currentMeme].media).then(function(res){return res.json();}).then(function(isFound){console.log(isFound);if(isFound===404){setCurrentMeme(currentMeme+1);setNextMeme(currentMeme+2);console.log(\"skipped\");}});}if(shuffleMeme.length>0){fetch(\"/checkImage?src=\"+shuffleMeme[nextMeme].media).then(function(res){return res.json();}).then(function(isFound){console.log(isFound);if(isFound===404){setNextMeme(nextMeme+1);console.log(\"skipped\");}});}});};var updateData=function updateData(){fetch(\"/updateMeme\");};Object(react[\"useEffect\"])(function(){var currentTime=new Date().getTime();//current unix timestamp\nvar execTime=new Date().setHours(22,9,0);//API call time = today at 20:00\nvar timeLeft;if(currentTime<execTime){//it's currently earlier than 20:00\ntimeLeft=execTime-currentTime;}else{//it's currently later than 20:00, schedule for tomorrow at 20:00\ntimeLeft=execTime+WEEK_IN_MS-currentTime;}console.log(timeLeft);setTimeout(function(){updateData();setTimeout(function(){getData();},TEN_MIN_IN_MS);setInterval(function(){updateData();setTimeout(function(){getData();},TEN_MIN_IN_MS);},WEEK_IN_MS);//repeat every week\n},timeLeft);//wait until 20:00 as calculated above\n},[]);Object(react[\"useEffect\"])(function(){if(meme.length>0){fetch(\"/checkImage?src=\"+meme[currentMeme].media).then(function(res){return res.json();}).then(function(isFound){console.log(isFound);if(isFound===404){if(length>currentMeme+2){setCurrentMeme(currentMeme+1);setNextMeme(currentMeme+2);console.log(\"skipped\");}else{setMeme(shuffle(meme));setCurrentMeme(0);}}});}},[currentMeme]);Object(react[\"useEffect\"])(function(){if(meme.length>0){fetch(\"/checkImage?src=\"+meme[nextMeme].media).then(function(res){return res.json();}).then(function(isFound){console.log(isFound);if(isFound===404){if(length>nextMeme+2){setNextMeme(nextMeme+1);setCurrentMeme(nextMeme+2);console.log(\"skipped\");}else{setMeme(shuffle(meme));setNextMeme(0);}}});}},[nextMeme]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"App\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"header\",{className:\"App-header\",children:[meme[currentMeme+1]?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{height:\"950px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:displayCurrent?{height:\"950px\"}:{height:\"950px\",display:'none'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:meme[currentMeme].title.replace(\"fuck\",\"****\").replace(\"shit\",\"****\").replace(\"Bitch\",\"*****\").replace(\"Fuck\",\"****\").replace(\"Shit\",\"****\").replace(\"Bitch\",\"*****\").replace(\"FUCK\",\"****\").replace(\"SHIT\",\"****\").replace(\"BITCH\",\"*****\").replace(\"cunt\",\"****\").replace(\"CUNT\",\"****\").replace(\"Cunt\",\"****\").replace(\"nigger\",\"*****\").replace(\"NIGGER\",\"*****\").replace(\"Nigger\",\"******\")}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"memeBox\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"current meme\",src:meme[currentMeme].media,onError:function onError(e){if(length>currentMeme+1){if(currentMeme>nextMeme){setCurrentMeme(currentMeme+1);}console.log(meme[currentMeme].media);console.log(\"error img\");e.target.onerror=null;e.target.src=meme[currentMeme].media;}else{setMeme(shuffle(meme));setCurrentMeme(0);console.log(\"error img\");e.target.onerror=null;e.target.src=meme[currentMeme].media;}}})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:displayCurrent?{height:\"950px\",display:'none'}:{height:\"950px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:meme[nextMeme].title.replace(\"fuck\",\"****\").replace(\"shit\",\"****\").replace(\"Bitch\",\"*****\").replace(\"Fuck\",\"****\").replace(\"Shit\",\"****\").replace(\"Bitch\",\"*****\").replace(\"FUCK\",\"****\").replace(\"SHIT\",\"****\").replace(\"BITCH\",\"*****\").replace(\"cunt\",\"****\").replace(\"CUNT\",\"****\").replace(\"Cunt\",\"****\").replace(\"nigger\",\"*****\").replace(\"NIGGER\",\"*****\").replace(\"Nigger\",\"******\")}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"memeBox\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"next meme\",src:meme[nextMeme].media,onError:function onError(e){if(length>nextMeme+1){setNextMeme(nextMeme+1);console.log(meme[nextMeme].media);console.log(\"error img\");e.target.onerror=null;e.target.src=meme[nextMeme].media;}else{setMeme(shuffle(meme));setNextMeme(0);console.log(\"error img\");e.target.onerror=null;e.target.src=meme[nextMeme].media;}}})})]})]}):null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"timer\",children:seconds})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:play,style:{marginTop:1000},children:\"Boop!\"})]});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 4).then(__webpack_require__.bind(null, 16)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ }),\n\n/***/ 9:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[13,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/kevii/Desktop/git-meme-stream/meme-stream/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/kevii/Desktop/git-meme-stream/meme-stream/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/kevii/Desktop/git-meme-stream/meme-stream/client/node_modules/postcss-loader/src/index.js??postcss!/Users/kevii/Desktop/git-meme-stream/meme-stream/client/src/App.css","/Users/kevii/Desktop/git-meme-stream/meme-stream/client/node_modules/file-loader/dist/cjs.js??ref--5-oneOf-8!/Users/kevii/Desktop/git-meme-stream/meme-stream/client/src/assets/memeBGM.mp3","/Users/kevii/Desktop/git-meme-stream/meme-stream/client/node_modules/file-loader/dist/cjs.js??ref--5-oneOf-8!/Users/kevii/Desktop/git-meme-stream/meme-stream/client/src/assets/bell.mp3","/Users/kevii/Desktop/git-meme-stream/meme-stream/client/src/App.js","/Users/kevii/Desktop/git-meme-stream/meme-stream/client/src/reportWebVitals.js","/Users/kevii/Desktop/git-meme-stream/meme-stream/client/src/index.js","/Users/kevii/Desktop/git-meme-stream/meme-stream/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/kevii/Desktop/git-meme-stream/meme-stream/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/kevii/Desktop/git-meme-stream/meme-stream/client/node_modules/postcss-loader/src/index.js??postcss!/Users/kevii/Desktop/git-meme-stream/meme-stream/client/src/index.css"],"names":["App","useState","meme","setMeme","currentMeme","setCurrentMeme","nextMeme","setNextMeme","seconds","setSeconds","displayCurrent","setDisplayCurrent","length","setLength","CLOCK","WEEK_IN_MS","TEN_MIN_IN_MS","onMusic","setOnMusic","Audio","memeBGM","bgm","setBgm","play","pause","loop","useEffect","getData","setTimeout","media","shuffle","console","log","array","currentIndex","randomIndex","Math","floor","random","fetch","then","res","json","data","Object","keys","title","shuffleMeme","i","push","score","isFound","updateData","currentTime","Date","getTime","execTime","setHours","timeLeft","setInterval","height","display","replace","e","target","onerror","src","marginTop","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","export default __webpack_public_path__ + \"static/media/memeBGM.4ff86e69.mp3\";","export default __webpack_public_path__ + \"static/media/bell.05d85813.mp3\";","import './App.css';\nimport React, { useState, useEffect } from 'react';\nimport memeBGM from \"./assets/memeBGM.mp3\";\nimport useSound from 'use-sound';\nimport bellSound from \"./assets/bell.mp3\"\n\n\nfunction App() {\n  const [meme,setMeme] = useState([])\n  const [currentMeme,setCurrentMeme] = useState(0)\n  const [nextMeme,setNextMeme] = useState(currentMeme+1)\n  const [seconds,setSeconds] = useState(15)\n  const [displayCurrent, setDisplayCurrent] = useState(true)\n  const [length,setLength] = useState()\n  const CLOCK = 15\n  const WEEK_IN_MS = 604800000\n  const TEN_MIN_IN_MS = 600000\n  const [onMusic,setOnMusic] = useState(false)\n  const [bgm, setBgm] = useState(new Audio(memeBGM))\n\n  const play = () => {\n    if(onMusic){\n      setOnMusic(false)\n      bgm.pause()\n    }\n    else{\n      setOnMusic(true)\n      bgm.play()\n      bgm.loop = true\n    \n    }\n      \n      \n  }\n\n  useEffect(() => {\n      getData()\n  },[])\n\n\n  useEffect(() => {\n    setTimeout(() => {\n      if(seconds!==0){\n      setSeconds(seconds-1)}\n      else{\n        if(displayCurrent){\n          setDisplayCurrent(false)\n          if(length>(nextMeme+1)){\n\n            setCurrentMeme(nextMeme+1)\n            while(!meme[currentMeme].media && meme[currentMeme].media===''){\n              setCurrentMeme(nextMeme+1)\n            }\n          \n          }\n          else{\n            setMeme(shuffle(meme))\n            setCurrentMeme(0)\n          }\n\n        }\n        else{\n          setDisplayCurrent(true)\n          if(length>(currentMeme+1)){\n            setNextMeme(currentMeme+1)\n            while(!meme[nextMeme].media && meme[nextMeme].media===''){\n              setCurrentMeme(nextMeme+1)\n            }\n          \n          }\n          else{\n            setMeme(shuffle(meme))\n            setNextMeme(0)\n          }\n        }\n        setSeconds(CLOCK)\n        \n      }\n    }, 1000);\n    \n  }, [seconds])\n\n  useEffect(()=>{\n    console.log(meme)\n  },[meme])\n\n  function shuffle(array) {\n    let currentIndex = array.length\n    let randomIndex\n\n    while (currentIndex != 0) {\n\n      randomIndex = Math.floor(Math.random() * currentIndex);\n      currentIndex--;\n\n      [array[currentIndex], array[randomIndex]] = [\n        array[randomIndex], array[currentIndex]];\n    }\n    \n    return array\n      \n    }\n\n    const getData = () => {\n      fetch(\"/members\").then(\n        res => res.json()\n      )\n      .then(data => {\n        setLength(Object.keys(data.title).length)\n        let shuffleMeme = []\n        for (var i =0; i<Object.keys(data.title).length; i++){\n      //   setMeme(preState => [\n      //     ...preState, {media:data.media['?',i],\n      //   score:data.score['?',i],\n      // title:data.title['?',i]}\n      //   ])\n  \n          shuffleMeme.push({media:data.media['?',i],\n             score:data.score['?',i],\n           title:data.title['?',i]})\n  \n  \n      }\n      setMeme(shuffle(shuffleMeme))\n      if(shuffleMeme.length > 0) {\n        fetch(\"/checkImage?src=\"+shuffleMeme[currentMeme].media)\n        .then(res => {\n          return res.json()\n        })\n        .then(isFound => {\n          console.log(isFound)\n          if (isFound === 404){\n            setCurrentMeme(currentMeme+1)\n            setNextMeme(currentMeme+2)\n            console.log(\"skipped\")\n          }\n        }) \n      }\n      if(shuffleMeme.length > 0) {\n        fetch(\"/checkImage?src=\"+shuffleMeme[nextMeme].media)\n        .then(res => {\n          return res.json()\n        })\n        .then(isFound => {\n          console.log(isFound)\n          if (isFound === 404){\n            setNextMeme(nextMeme+1)\n            console.log(\"skipped\")\n          }\n        }) \n      }\n      })\n    }\n\n    const updateData = () => {\n      fetch(\"/updateMeme\")\n    }\n\n    useEffect(() => {\n\n      const currentTime = new Date().getTime();  //current unix timestamp\n      const execTime = new Date().setHours(22,9,0);  //API call time = today at 20:00\n      let timeLeft;\n      if(currentTime < execTime) {\n        //it's currently earlier than 20:00\n        timeLeft = execTime - currentTime;\n      } else {\n        //it's currently later than 20:00, schedule for tomorrow at 20:00\n        timeLeft = execTime + WEEK_IN_MS - currentTime\n      }\n      console.log(timeLeft)\n      \n      setTimeout(function() {\n\n        updateData()\n          setTimeout(function() {\n            getData()\n          }, TEN_MIN_IN_MS)\n\n        setInterval(function() {\n          updateData()\n          setTimeout(function() {\n            getData()\n          }, TEN_MIN_IN_MS)\n    \n        }, WEEK_IN_MS);  //repeat every week\n      }, timeLeft);  //wait until 20:00 as calculated above\n    },[])\n\n    useEffect(() => {\n      if(meme.length > 0) {\n      fetch(\"/checkImage?src=\"+meme[currentMeme].media)\n      .then(res => {\n        return res.json()\n      })\n      .then(isFound => {\n        console.log(isFound)\n        if (isFound === 404){\n          if(length>(currentMeme+2)){\n          setCurrentMeme(currentMeme+1)\n          setNextMeme(currentMeme+2)\n          console.log(\"skipped\")\n          }\n          else{\n            setMeme(shuffle(meme))\n            setCurrentMeme(0)\n          }\n        }\n      }) \n    }\n    },[currentMeme])\n\n    useEffect(() => {\n      if(meme.length > 0) {\n        fetch(\"/checkImage?src=\"+meme[nextMeme].media)\n        .then(res => {\n          return res.json()\n        })\n        .then(isFound => {\n          console.log(isFound)\n          if (isFound === 404){\n            if(length>(nextMeme+2)){\n              setNextMeme(nextMeme+1)\n              setCurrentMeme(nextMeme+2)\n              console.log(\"skipped\")\n            }\n            else{\n              setMeme(shuffle(meme))\n              setNextMeme(0)\n            }\n          }\n        })\n      }\n       \n    },[nextMeme])\n\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n      {meme[currentMeme+1]?        <div style={{height:\"950px\"}}>\n\n        <div  style={displayCurrent?{height:\"950px\"}:{height:\"950px\",display:'none'}}>\n            <h3>{meme[currentMeme].title.replace(\"fuck\",\"****\").replace(\"shit\",\"****\").replace(\"Bitch\",\"*****\").replace(\"Fuck\",\"****\").replace(\"Shit\",\"****\").replace(\"Bitch\",\"*****\").replace(\"FUCK\",\"****\").replace(\"SHIT\",\"****\").replace(\"BITCH\",\"*****\").replace(\"cunt\",\"****\").replace(\"CUNT\",\"****\").replace(\"Cunt\",\"****\").replace(\"nigger\",\"*****\").replace(\"NIGGER\",\"*****\").replace(\"Nigger\",\"******\")}</h3>\n            <div className='memeBox'>\n            <img alt=\"current meme\" src={meme[currentMeme].media} onError={(e) => {\n              if(length>(currentMeme+1)){\n              if(currentMeme > nextMeme){\n                setCurrentMeme(currentMeme+1)\n              }\n              \n              console.log(meme[currentMeme].media)\n              console.log(\"error img\")\n              e.target.onerror = null\n              e.target.src=meme[currentMeme].media\n            }\n            else{\n              setMeme(shuffle(meme))\n              setCurrentMeme(0)\n              console.log(\"error img\")\n              e.target.onerror = null\n              e.target.src=meme[currentMeme].media\n            }}}></img>\n            </div>\n            </div>\n\n            <div style={displayCurrent?{height:\"950px\",display:'none'}:{height:\"950px\"}}>\n            <h3>{meme[nextMeme].title.replace(\"fuck\",\"****\").replace(\"shit\",\"****\").replace(\"Bitch\",\"*****\").replace(\"Fuck\",\"****\").replace(\"Shit\",\"****\").replace(\"Bitch\",\"*****\").replace(\"FUCK\",\"****\").replace(\"SHIT\",\"****\").replace(\"BITCH\",\"*****\").replace(\"cunt\",\"****\").replace(\"CUNT\",\"****\").replace(\"Cunt\",\"****\").replace(\"nigger\",\"*****\").replace(\"NIGGER\",\"*****\").replace(\"Nigger\",\"******\")}</h3>\n            <div className='memeBox'>\n            <img alt=\"next meme\" src={meme[nextMeme].media} onError={(e) => {\n              if(length>(nextMeme+1)){\n                setNextMeme(nextMeme+1)\n                console.log(meme[nextMeme].media)\n                console.log(\"error img\")\n                e.target.onerror = null\n                e.target.src=meme[nextMeme].media\n              }\n              else{\n                setMeme(shuffle(meme))\n                setNextMeme(0)\n                console.log(\"error img\")\n                e.target.onerror = null\n                e.target.src=meme[nextMeme].media\n              }\n            }}></img>\n            </div>\n            </div>\n          </div>:null}\n        <span className=\"timer\">{seconds}</span>\n      </header>\n\n      {/* <img src={\"https://i.redd.it/rs7pju6muo881.jpg\"} \n      onError={({ currentTarget }) => {\n        currentTarget.onerror = null; // prevents looping\n        currentTarget.src=\"https://i.redd.it/u6anbsaoed381.jpg\";\n      }}\n      \n    ></img> */}\n\n<button onClick={play} style={{marginTop:1000}}>Boop!</button>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin"]}}