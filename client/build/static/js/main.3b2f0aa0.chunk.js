(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,c){},13:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),o=c(4),i=c.n(o),a=(c(9),c(2)),l=(c(10),c.p+"static/media/memeBGM.4ff86e69.mp3"),s=(c(11),c.p,c(1));var u=function(){var e=Object(n.useState)([]),t=Object(a.a)(e,2),c=t[0],r=t[1],o=Object(n.useState)(0),i=Object(a.a)(o,2),u=i[0],h=i[1],j=Object(n.useState)(u+1),p=Object(a.a)(j,2),f=p[0],g=p[1],m=Object(n.useState)(15),d=Object(a.a)(m,2),b=d[0],O=d[1],x=Object(n.useState)(!0),v=Object(a.a)(x,2),k=v[0],S=v[1],C=Object(n.useState)(),T=Object(a.a)(C,2),I=T[0],y=T[1],B=6048e5,E=6e5,N=Object(n.useState)(!1),F=Object(a.a)(N,2),w=F[0],G=F[1],H=Object(n.useState)(new Audio(l)),M=Object(a.a)(H,2),U=M[0],A=(M[1],Object(n.useState)(!1)),D=Object(a.a)(A,2),P=D[0],J=D[1],K=Object(n.useState)(),L=Object(a.a)(K,2),R=L[0],q=L[1];function z(e){for(var t,c=e.length;0!=c;){t=Math.floor(Math.random()*c),c--;var n=[e[t],e[c]];e[c]=n[0],e[t]=n[1]}return e}Object(n.useEffect)((function(){Q()}),[]),Object(n.useEffect)((function(){setTimeout((function(){if(0!==b)O(b-1);else{if(k)if(S(!1),I>f+1)for(h(f+1);!c[u].media&&""===c[u].media;)h(f+1);else r(z(c)),h(0);else if(S(!0),I>u+1)for(g(u+1);!c[f].media&&""===c[f].media;)h(f+1);else r(z(c)),g(0);O(15)}}),1e3)}),[b]),Object(n.useEffect)((function(){console.log(c)}),[c]);var Q=function(){fetch("/members").then((function(e){return e.json()})).then((function(e){y(Object.keys(e.title).length);for(var t=[],c=0;c<Object.keys(e.title).length;c++)t.push({media:e.media[c],score:e.score[c],title:e.title[c]});r(z(t)),t.length>0&&fetch("/checkImage?src="+t[u].media).then((function(e){return e.json()})).then((function(e){console.log(e),404===e&&(h(u+1),g(u+2),console.log("skipped"))})),t.length>0&&fetch("/checkImage?src="+t[f].media).then((function(e){return e.json()})).then((function(e){console.log(e),404===e&&(g(f+1),console.log("skipped"))}))}))},V=function(){fetch("/updateMeme")};return Object(n.useEffect)((function(){var e,t=(new Date).getTime(),c=(new Date).setHours(23,30,0);e=t<c?c-t:c+B-t,console.log(e),setTimeout((function(){V(),setTimeout((function(){Q()}),E),setInterval((function(){V(),setTimeout((function(){Q()}),E)}),B)}),e)}),[]),Object(n.useEffect)((function(){c.length>0&&fetch("/checkImage?src="+c[u].media).then((function(e){return e.json()})).then((function(e){console.log(e),404===e&&(I>u+2?(h(u+1),g(u+2),console.log("skipped")):(r(z(c)),h(0)))}))}),[u]),Object(n.useEffect)((function(){c.length>0&&fetch("/checkImage?src="+c[f].media).then((function(e){return e.json()})).then((function(e){console.log(e),404===e&&(I>f+2?(g(f+1),h(f+2),console.log("skipped")):(r(z(c)),g(0)))}))}),[f]),Object(s.jsx)("div",{className:"App",children:P?Object(s.jsxs)("div",{children:[Object(s.jsxs)("header",{className:"App-header",children:[c[u+1]?Object(s.jsxs)("div",{style:{height:"950px"},children:[Object(s.jsxs)("div",{style:k?{height:"950px"}:{height:"950px",display:"none"},children:[Object(s.jsx)("h3",{children:c[u].title.replace("fuck","****").replace("shit","****").replace("Bitch","*****").replace("Fuck","****").replace("Shit","****").replace("Bitch","*****").replace("FUCK","****").replace("SHIT","****").replace("BITCH","*****").replace("cunt","****").replace("CUNT","****").replace("Cunt","****").replace("nigger","*****").replace("NIGGER","*****").replace("Nigger","******")}),Object(s.jsx)("div",{className:"memeBox",children:Object(s.jsx)("img",{alt:"current meme",src:c[u].media,onError:function(e){I>u+1?(u>f&&h(u+1),console.log(c[u].media),console.log("error img"),e.target.onerror=null,e.target.src=c[u].media):(r(z(c)),h(0),console.log("error img"),e.target.onerror=null,e.target.src=c[u].media)}})})]}),Object(s.jsxs)("div",{style:k?{height:"950px",display:"none"}:{height:"950px"},children:[Object(s.jsx)("h3",{children:c[f].title.replace("fuck","****").replace("shit","****").replace("Bitch","*****").replace("Fuck","****").replace("Shit","****").replace("Bitch","*****").replace("FUCK","****").replace("SHIT","****").replace("BITCH","*****").replace("cunt","****").replace("CUNT","****").replace("Cunt","****").replace("nigger","*****").replace("NIGGER","*****").replace("Nigger","******")}),Object(s.jsx)("div",{className:"memeBox",children:Object(s.jsx)("img",{alt:"next meme",src:c[f].media,onError:function(e){I>f+1?(g(f+1),console.log(c[f].media),console.log("error img"),e.target.onerror=null,e.target.src=c[f].media):(r(z(c)),g(0),console.log("error img"),e.target.onerror=null,e.target.src=c[f].media)}})})]})]}):null,Object(s.jsx)("span",{className:"timer",children:b})]}),Object(s.jsx)("button",{onClick:function(){w?(G(!1),U.pause()):(G(!0),U.play(),U.loop=!0)},style:{marginTop:1e3},children:"Boop!"})]}):Object(s.jsxs)("div",{children:["Password: ",Object(s.jsx)("input",{onChange:function(e){var t=e.target.value;q(t)}})," ",Object(s.jsx)("button",{onClick:function(){J("goodfun"===R)},children:"submit"})]})})},h=function(e){e&&e instanceof Function&&c.e(4).then(c.bind(null,16)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;c(e),n(e),r(e),o(e),i(e)}))};i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(u,{})}),document.getElementById("root")),h()},9:function(e,t,c){}},[[13,1,2]]]);
//# sourceMappingURL=main.3b2f0aa0.chunk.js.map